<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ZETFLIX - Movie Details</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
  body { background-color: #1a202c; color: #e2e8f0; margin:0; min-height:100vh; display:flex; flex-direction:column; }
  main { flex:1; display:flex; flex-direction:column; justify-content:center; align-items:center; padding:1.5rem; }
  .movie-card { background:#2d3748; border-radius:0.75rem; box-shadow:0 10px 15px rgba(0,0,0,0.5); width:100%; max-width:400px; display:flex; flex-direction:column; align-items:center; padding:1.5rem; min-height:70vh; box-sizing:border-box; }
  .movie-poster-large { width:100%; max-width:300px; border-radius:0.5rem; box-shadow:0 10px 15px rgba(0,0,0,0.5); margin-bottom:1rem; }
  .play-button { background-color:#ef4444; color:white; padding:0.75rem 1.5rem; border-radius:0.5rem; font-weight:bold; transition:0.2s; }
  .play-button:hover { background-color:#dc2626; }
  .modal-overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.75); display:flex; justify-content:center; align-items:center; z-index:1000; opacity:0; visibility:hidden; transition:0.3s; }
  .modal-overlay.show { opacity:1; visibility:visible; }
  .modal-content { background:#2d3748; padding:2rem; border-radius:0.75rem; box-shadow:0 20px 25px -5px rgba(0,0,0,0.5); width:90%; max-width:320px; text-align:center; transform:translateY(-20px); transition:0.3s; position:relative; display:flex; flex-direction:column; align-items:center;}
  .modal-overlay.show .modal-content { transform:translateY(0); }
  .modal-close-button { position:absolute; top:1rem; right:1rem; background:none; border:none; font-size:1.5rem; color:#cbd5e0; cursor:pointer; }
  .modal-close-button:hover { color:#ffffff; }
  .install-button { background-color:#4299e1; color:white; padding:0.5rem 1rem; border-radius:0.375rem; font-weight:bold; margin-top:1rem; transition:0.2s; display:flex; align-items:center; justify-content:center; gap:0.5rem; text-decoration:none;}
  .install-button:hover { background-color:#3182ce; }
  .adhere-gif { text-align:center; margin-top:1rem; }
</style>
</head>
<body>
<main>
  <div id="movie-detail-container" class="movie-card">
    <p class="text-center text-gray-400 w-full">Loading movie details...</p>
  </div>

  <!-- ADHERE GIF BELOW MOVIE CARD -->
  <div class="adhere-gif">
    <a href="https://aitools.tv" target="_blank">
      <img src="https://djmorio.wordpress.com/wp-content/uploads/2020/04/place-your-advert-here-1.gif" alt="Adhere GIF">
    </a>
  </div>
</main>

<!-- POPUP MODAL -->
<div id="player-modal" class="modal-overlay">
  <div class="modal-content">
    <button class="modal-close-button" id="close-modal">&times;</button>
    <img src="https://i.ibb.co/2Nmfz3c/player-icon.png" alt="Player Icon" style="width:80px;height:80px;margin-bottom:15px;">
    <h3 class="text-2xl font-bold mb-2">ZET Player</h3>
    <p class="text-gray-300 mb-4">To watch this stream, please install the player app.</p>
    <a href="https://play.google.com/store/apps/details?id=com.genuine.leone" target="_blank" class="install-button">
      <i class="fab fa-android"></i> Install Now
    </a>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const movieDetailContainer = document.getElementById('movie-detail-container');
  const playerModal = document.getElementById('player-modal');
  const closeModalButton = document.getElementById('close-modal');

  const showModal = () => playerModal.classList.add('show');
  const hideModal = () => playerModal.classList.remove('show');
  closeModalButton.addEventListener('click', hideModal);
  playerModal.addEventListener('click', e => { if(e.target===playerModal) hideModal(); });

  const storedMovie = localStorage.getItem('selectedMovie');
  if(storedMovie){
    const movie = JSON.parse(storedMovie);
    displayMovieDetails(movie);
  } else {
    movieDetailContainer.innerHTML = `<div class="text-center text-red-400 w-full">
      <p>No movie selected. Please go back to <a href="home.html" class="underline text-blue-400 hover:text-blue-500">Home Page</a>.</p>
    </div>`;
  }

  function displayMovieDetails(movie){
    movieDetailContainer.innerHTML = `
      <img src="${movie.logo}" alt="${movie.title} Poster" class="movie-poster-large">
      <div class="flex flex-col items-center text-center">
        <h2 class="text-3xl font-bold mb-2 text-white">${movie.title}</h2>
        <p class="text-gray-300 text-xl mb-4">${movie.year} | ${movie.category}</p>
        <button id="watch-button" class="play-button flex items-center justify-center gap-2">
          <i class="fas fa-play"></i> Watch Now
        </button>
      </div>
    `;
    document.getElementById('watch-button').addEventListener('click', () => {
      showModal();
    });
  }
});
</script>
</body>
</html>
